# Implementation Plan: Remove Legacy Content and Non-Essential Files

**Date:** November 27, 2025
**Author:** Claude Code
**Status:** Ready for Implementation

## Executive Summary

This plan outlines the cleanup of legacy content and non-essential files from the Citypack website directory. The goal is to maintain only files that directly serve the production website, removing historical artifacts and deprecated content.

## Current State Analysis

### Directory Structure
```
citypack-website/
â”œâ”€â”€ legacy/                    # 240KB - TO REMOVE
â”‚   â”œâ”€â”€ lab-seven/            # Archived LAB SEVEN files
â”‚   â””â”€â”€ [old customer pages]  # Superseded by build system
â”œâ”€â”€ docs/                      # 252KB - REVIEW
â”‚   â”œâ”€â”€ plans/                # Implementation plans
â”‚   â”œâ”€â”€ CONTENT_EDITING.md    # Content management guide
â”‚   â””â”€â”€ MIGRATION.md          # Migration documentation
â”œâ”€â”€ content/                   # KEEP - Active content
â”œâ”€â”€ templates/                 # KEEP - Active templates
â”œâ”€â”€ css/                       # KEEP - Active styles
â”œâ”€â”€ src/                       # KEEP - Build system
â”œâ”€â”€ *.html                     # KEEP - Generated pages
â”œâ”€â”€ color-lookbook.html        # TO REVIEW - Reference file?
â”œâ”€â”€ macbook-air-replica.html   # TO REVIEW - Reference file?
â”œâ”€â”€ test.html                  # TO REVIEW - Test file?
â”œâ”€â”€ content-editor-guide.md    # TO REVIEW - Duplicate of docs?
â”œâ”€â”€ history.md                 # TO REVIEW - Session history
â””â”€â”€ node_modules/              # KEEP - Dependencies
```

### Files Identified for Cleanup

**Legacy Directory (Definite Removal):**
- `legacy/lab-seven/` - Archived LAB SEVEN HTML files
- `legacy/*.html` - Old customer landing pages (pre-build system)

**Potential Non-Essential Files:**
- `color-lookbook.html` - Design reference file (33KB)
- `macbook-air-replica.html` - Apple reference implementation (25KB)
- `test.html` - Deployment test file
- `content-editor-guide.md` - May duplicate `docs/CONTENT_EDITING.md`
- `history.md` - Session history documentation (11KB)

**Documentation to Review:**
- `docs/plans/*.md` - Historical implementation plans
- `docs/MIGRATION.md` - Migration documentation

## Scope & Approach

### Files Serving the Website (KEEP)

**Essential Production Files:**
- All `*.html` files in root (generated by build system)
- `content/` directory - JSON content files
- `templates/` directory - Handlebars templates
- `css/` directory - Stylesheets
- `src/` directory - Build scripts
- `node_modules/` - Dependencies
- `package.json`, `package-lock.json` - Dependencies
- `netlify.toml` - Deployment configuration
- `_redirects` - URL routing
- `.gitignore` - Git configuration

**Essential Documentation (KEEP):**
- `README.md` - Project overview
- `CLAUDE.md` - Development guide
- `DESIGN_SYSTEM.md` - Design system documentation
- `TODO.md` - Task tracking
- `docs/CONTENT_EDITING.md` - Content editing guide

**Potentially Essential Reference Files:**
- Review and decide on case-by-case basis

### Files NOT Serving the Website (REMOVE)

**Definite Removals:**
- `legacy/` directory - All archived content
- Historical session files (if not needed)
- Duplicate documentation
- Test/reference files not actively used

## Implementation Tasks

### Phase 1: Archive Legacy Directory (5 minutes)

#### Task 1.1: Remove legacy directory
**Action:** Delete entire legacy directory

**Command:**
```bash
rm -rf legacy/
```

**Rationale:**
- Contains only archived LAB SEVEN files already committed to git history
- Can be recovered from git if needed (commit: 9de8d2d)
- Not serving production website
- Taking up 240KB

**Verification:**
```bash
ls -la legacy/ 2>/dev/null && echo "ERROR: Legacy still exists" || echo "âœ“ Legacy removed"
```

---

### Phase 2: Clean Up Reference Files (10 minutes)

#### Task 2.1: Review and decide on color-lookbook.html
**File:** `color-lookbook.html` (33KB)

**Questions:**
- Is this actively referenced by the design team?
- Is it linked from anywhere in the site?
- Could it be moved to a separate design repo?

**Recommendation:** Remove if not actively used

**Command:**
```bash
rm color-lookbook.html
```

---

#### Task 2.2: Review and decide on macbook-air-replica.html
**File:** `macbook-air-replica.html` (25KB)

**Questions:**
- Is this still needed as a design reference?
- Is it linked from the site?

**Current usage:**
- Referenced in `_redirects` as `/macbook`
- May be useful as design reference

**Recommendation:** Keep if still valuable as reference, otherwise remove

**To remove:**
```bash
rm macbook-air-replica.html
# Also update _redirects
sed -i '' '/macbook/d' _redirects
```

---

#### Task 2.3: Review and decide on test.html
**File:** `test.html`

**Purpose:** Netlify deployment test page

**Questions:**
- Still needed for deployment testing?
- Could be recreated if needed

**Recommendation:** Remove (can recreate if needed)

**Command:**
```bash
rm test.html
```

---

### Phase 3: Clean Up Documentation (15 minutes)

#### Task 3.1: Remove duplicate content-editor-guide.md
**Files:**
- `content-editor-guide.md` (root)
- `docs/CONTENT_EDITING.md`

**Action:** Check if they're identical or complementary

**Command:**
```bash
diff content-editor-guide.md docs/CONTENT_EDITING.md
```

**If identical or redundant:**
```bash
rm content-editor-guide.md
```

**Update references:**
- Check README.md for references
- Update any links to point to `docs/CONTENT_EDITING.md`

---

#### Task 3.2: Review history.md
**File:** `history.md` (11KB)

**Purpose:** Session history and development log

**Questions:**
- Is this valuable for future reference?
- Should it be archived or kept?

**Options:**

**Option A: Keep (Recommended)**
- Provides valuable context for future sessions
- Documents decision-making history
- Relatively small (11KB)

**Option B: Remove**
```bash
rm history.md
```

**Recommendation:** Keep for now, serves as project memory

---

#### Task 3.3: Clean up old implementation plans
**Directory:** `docs/plans/`

**Files to review:**
```
2025-11-15-robust-site-architecture.md
2025-11-15-user-type-landing-pages-design.md
2025-11-20-site-navigation-restructure.md
2025-11-23-anduril-style-implementation.md
2025-11-23-anduril-style-redesign.md
2025-11-23-homepage-design-options.md
2025-11-23-rebrand-contact-info-typography.md
2025-11-27-rebrand-labrador-to-citypack.md
2025-11-27-cleanup-legacy-content.md (this file)
```

**Approach:**

**Option A: Keep All (Recommended)**
- Provides historical context
- Documents architectural decisions
- Useful for understanding evolution
- Relatively small total size

**Option B: Keep Only Recent**
- Keep last 2-3 months of plans
- Archive older ones

**Option C: Remove All Completed Plans**
```bash
# Move to legacy or remove old plans
rm docs/plans/2025-11-15*.md
rm docs/plans/2025-11-20*.md
rm docs/plans/2025-11-23*.md
```

**Recommendation:** Keep all plans, they serve as architectural documentation

---

#### Task 3.4: Review docs/MIGRATION.md
**File:** `docs/MIGRATION.md`

**Questions:**
- Is migration complete?
- Is this still needed for reference?

**Recommendation:** Keep if it documents the build system migration approach

---

### Phase 4: Update .gitignore (5 minutes)

#### Task 4.1: Ensure proper .gitignore
**File:** `.gitignore`

**Add patterns for files that shouldn't be tracked:**
```gitignore
# Dependencies
node_modules/

# Build outputs
dist/

# OS files
.DS_Store
**/.DS_Store

# Editor files
.vscode/
.idea/
*.swp
*.swo
*~

# Logs
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Environment
.env
.env.local

# Temporary files
*.tmp
*.log
```

**Command:**
```bash
cat >> .gitignore << 'EOF'

# OS files
**/.DS_Store

# Temporary files
*.tmp
*.log
EOF
```

---

### Phase 5: Final Verification (10 minutes)

#### Task 5.1: Verify build still works
**Command:**
```bash
npm run clean
npm run build
```

**Expected:** Clean build with no errors

---

#### Task 5.2: Verify content validation
**Command:**
```bash
npm run validate
```

**Expected:** All content validates successfully

---

#### Task 5.3: Review remaining files
**Command:**
```bash
ls -lh | grep -v "^d" | grep -v "node_modules"
```

**Verify:**
- All remaining files serve a purpose
- No unnecessary duplicates
- File structure is clean and organized

---

#### Task 5.4: Check directory sizes
**Command:**
```bash
du -sh * | sort -h
```

**Review:**
- Ensure no unexpectedly large files
- Confirm legacy directory is removed

---

### Phase 6: Commit Cleanup (5 minutes)

#### Task 6.1: Stage changes
**Command:**
```bash
git add -A
git status
```

**Review:** Ensure only intended deletions are staged

---

#### Task 6.2: Commit cleanup
**Command:**
```bash
git commit -m "$(cat <<'EOF'
chore: Remove legacy content and non-essential files

Removed files:
- legacy/ directory (240KB) - Archived LAB SEVEN files
- color-lookbook.html - Design reference no longer needed
- macbook-air-replica.html - Reference implementation
- test.html - Deployment test file
- content-editor-guide.md - Duplicate of docs/CONTENT_EDITING.md
- [Additional files as decided]

Kept files:
- All production website files (content, templates, CSS, HTML)
- Essential documentation (README, CLAUDE, DESIGN_SYSTEM, TODO)
- Build system (src/, package.json)
- docs/CONTENT_EDITING.md - Content management guide
- history.md - Project development history
- docs/plans/ - Architectural documentation

Updated:
- .gitignore - Added patterns for OS and temporary files

Rationale:
- Legacy files preserved in git history (commit 9de8d2d)
- Reduces repository size and complexity
- Maintains only files directly serving the website

Verification:
- Build completes successfully âœ“
- Content validates âœ“
- All production files intact âœ“

ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
EOF
)"
```

---

## Decision Matrix

### Files to Keep vs Remove

| File/Directory | Size | Keep/Remove | Reason |
|----------------|------|-------------|---------|
| `legacy/` | 240KB | **REMOVE** | Archived content, in git history |
| `color-lookbook.html` | 33KB | **REMOVE** | Not actively used |
| `macbook-air-replica.html` | 25KB | **DECIDE** | May be useful reference |
| `test.html` | <1KB | **REMOVE** | Can recreate if needed |
| `content-editor-guide.md` | 4KB | **REMOVE** | Duplicate of docs version |
| `history.md` | 11KB | **KEEP** | Valuable project context |
| `docs/plans/*.md` | ~200KB | **KEEP** | Architectural documentation |
| `docs/CONTENT_EDITING.md` | ~10KB | **KEEP** | Essential guide |
| `docs/MIGRATION.md` | ~10KB | **KEEP** | Documents approach |
| `README.md` | 14KB | **KEEP** | Project overview |
| `CLAUDE.md` | 5KB | **KEEP** | Development guide |
| `DESIGN_SYSTEM.md` | 9KB | **KEEP** | Design documentation |
| `TODO.md` | <5KB | **KEEP** | Task tracking |

## Conservative Approach (Recommended)

**Definite Removals:**
1. `legacy/` directory (240KB)
2. `test.html` (test file)
3. `color-lookbook.html` (if not actively used)

**Review with User:**
1. `macbook-air-replica.html` - Keep or remove?
2. `content-editor-guide.md` - Remove if duplicate
3. Old plan documents - Keep or archive?

**Total Space Saved:** ~270-300KB (minimal)

## Aggressive Approach (Optional)

**Additional Removals:**
1. All implementation plans older than 2 weeks
2. `macbook-air-replica.html`
3. `history.md`
4. `docs/MIGRATION.md`

**Total Space Saved:** ~500KB

**Risk:** Loss of historical context and architectural documentation

## Recommendation

### Minimal Cleanup (Safest)

**Remove:**
- `legacy/` directory
- `test.html`
- `color-lookbook.html` (if confirmed not needed)
- `content-editor-guide.md` (if duplicate)

**Keep:**
- All documentation in `docs/`
- `history.md`
- `macbook-air-replica.html` (design reference)
- All production files

**Benefits:**
- Removes confirmed non-essential files
- Preserves all documentation and context
- Minimal risk of removing something needed
- Can always do more aggressive cleanup later

**Space Saved:** ~250KB

## Execution Summary

### Estimated Time: 45 minutes

- Phase 1 (Remove legacy): 5 min
- Phase 2 (Reference files): 10 min
- Phase 3 (Documentation): 15 min
- Phase 4 (Update .gitignore): 5 min
- Phase 5 (Verification): 10 min
- Phase 6 (Commit): 5 min

### Success Criteria

âœ… **Complete when:**
1. Legacy directory removed
2. Non-essential files identified and removed
3. Build system still works perfectly
4. All content validates
5. Documentation remains accessible
6. .gitignore updated
7. Changes committed with clear message
8. No production functionality affected

## Rollback Plan

If issues arise:
```bash
# Restore from last commit
git reset --hard HEAD~1

# Or restore specific files
git checkout HEAD~1 -- legacy/
git checkout HEAD~1 -- [filename]
```

## Notes

- All removed files can be recovered from git history
- Legacy content is preserved in commit 9de8d2d
- This cleanup is about current working directory, not git history
- Can always do more aggressive cleanup in future if needed

---

**End of Implementation Plan**
